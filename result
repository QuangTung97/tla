sequence_range <= cache_size + 1
buffer_size <= cache_size
